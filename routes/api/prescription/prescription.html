<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Patient Prescription</title>
    <style>
        /* Base Page Setup */
        /* This CSS rule ensures that table headers (contained within the <thead> element)
           repeat at the top of each new page when the table spans multiple pages. */
        @media print {
            /* Force background colors and images to print */
            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            /* Ensure page breaks don't occur within elements */
            h1, h2, h3, h4, h5, h6 {
                page-break-after: avoid;
            }

            @page {
                size: letter portrait;
            }

            img {
                /* Ensure images are rendered at their original quality */
                print-color-adjust: exact;
                max-width: 100%;
                height: auto;
                -webkit-backface-visibility: hidden;
                -webkit-print-color-adjust: exact;
                backface-visibility: hidden;
                page-break-inside: avoid;
            }

            /* TODO: Preserve dimensions for specific images, future use
            .top_provider_section img,
            .top_provider_section_three img,
            .tick_image img,
            .signature_image {
                max-width: none;
                width: attr(width);
                height: attr(height);
            }
             */
            /* Ensure table headers repeat */
            thead {
                display: table-header-group;
            }

            /* Avoid breaking within table rows */
            tr {
                page-break-inside: avoid;
            }
        }

        /* Add support for both A4 and Letter sizes */
        @page {
            size: A4 portrait;
            margin: 10mm 5mm;  /* Reduced margins for better space utilization */
            /* bleed: 0; */
            @top-center {
                content: element(header);
            }
            @bottom-center {
                content: element(footer);
            }
        }

        /* Font Faces */
        @font-face {
            font-family: "PlusJakartaSans-Bold";
            src: url("https://res.cloudinary.com/myrltech/raw/upload/v1685442477/PlusJakartaSans-Bold.ttf");
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: "PlusJakartaSans-Regular";
            src: url("https://res.cloudinary.com/myrltech/raw/upload/v1685442477/PlusJakartaSans-Regular.ttf");
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: "PlusJakartaSans-Medium";
            src: url("https://res.cloudinary.com/myrltech/raw/upload/v1685509873/PlusJakartaSans-Medium.ttf");
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: "PlusJakartaSans-ExtraBold";
            src: url("https://res.cloudinary.com/myrltech/raw/upload/v1685509841/PlusJakartaSans-ExtraBold.ttf");
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: "PlusJakartaSans-Light";
            src: url("https://res.cloudinary.com/myrltech/raw/upload/v1685509841/PlusJakartaSans-Light.ttf");
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: "TiroDevanagariHindi-Regular";
            src: url("https://res.cloudinary.com/myrltech/raw/upload/v1686297287/TiroDevanagariHindi-Regular.ttf");
            font-weight: normal;
            font-style: normal;
        }

        /* Specific rules for content breaking to existing styles */
        .avoid-break {
            break-inside: avoid-page;
            page-break-inside: avoid;
        }

        .force-break {
            break-before: page;
            page-break-before: always;
        }

        .keep-together {
            break-inside: avoid;
            page-break-inside: avoid;
        }

        /* Container width constraints */
        .main-content {
            width: 100%;
            max-width: 210mm; /* A4 width */
            margin: 0 auto;
        }

        /* Maintains aspect ratio in the images */
        img {
            max-width: 100%;
            height: auto;
            object-fit: contain;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        /* For images that need to maintain specific dimensions */
        .fixed-dimension-img {
            width: auto;
            height: auto;
            max-width: 100%;
            object-fit: contain;
        }

        /* Logo images */
        .top_provider_section img {
            width: 60px;
            height: 60px;
            object-fit: contain;
        }

        /* QR code image */
        .top_provider_section_three img {
            width: 100px;
            height: 100px;
            object-fit: contain;
        }

        /* Tick images in medicine table */
        .tick_image img {
            width: 15px;
            height: 15px;
            object-fit: contain;
        }

        .tick_image {
            display: flex;
        }

        /* Signature image */
        .signature_image {
            width: 120px;
            height: 40px;
            object-fit: contain;
        }

        /* Global Styles */
        body {
            margin: 0;
            padding: 10px;
            font-size: 10px;
            font-family: "PlusJakartaSans-Regular", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
        }

        /* Typography */
        h3, h4, h5 {
            page-break-after: avoid;
            font-family: "PlusJakartaSans-Bold";
            margin: 0;
        }

        h3 {
            font-size: 13px;
        }

        h4, h5 {
            font-size: 10px;
        }

        p {
            font-family: "PlusJakartaSans-Medium";
            font-size: 10px;
            margin: 0;
        }

        /* Header and Footer */
        .header {
            position: running(header);
            width: 100%;
            padding-bottom: 10px;
            border-bottom: 1px solid black;
        }

        .footer {
            position: running(footer);
            width: 100%;
            padding-top: 10px;
            border-top: 1px solid black;
            text-align: center;
        }

        /* Page Break Controls */
        .avoid-break,
        .treatment_advise_section,
        .complaints_section,
        .signature-section {
            page-break-inside: avoid;
        }

        .page-break {
            page-break-before: always;
        }

        .section-group {
            page-break-inside: avoid;
            break-inside: avoid-page;
            margin-bottom: 15px;
        }

        /* Common Table Styles */
        .medicine_table,
        .investigation_table,
        .consultation_table,
        .diet_table,
        .workout_table {
            width: 100%;
            table-layout: fixed;
            border-collapse: collapse;
            border-spacing: 0;
            empty-cells: show;
            page-break-inside: auto;
            border-left: 1px solid black;
        }

        /* Table Headers */
        .medicine_table thead,
        .investigation_table thead,
        .consultation_table thead,
        .diet_table thead,
        .workout_table thead {
            display: table-header-group;
        }

        /* Table Body */
        .medicine_table tbody,
        .investigation_table tbody,
        .consultation_table tbody,
        .diet_table tbody,
        .workout_table tbody {
            page-break-inside: auto;
        }

        /* Table Rows */
        .medicine_table tr,
        .investigation_table tr,
        .consultation_table tr,
        .diet_table tr,
        .workout_table tr {
            page-break-inside: avoid;
            page-break-after: auto;
        }

        /* Table Headers and Cells */
        .medicine_table th,
        .investigation_table th,
        .consultation_table th,
        .diet_table th,
        .workout_table th {
            background-color: #fff;
            position: sticky;
            top: 0;
            z-index: 2;
            border-bottom: 2px solid #000;
        }

        table th,
        table td {
            border: 1px solid black;
            padding: 5px;
            border-top: 0;
            border-left: 0;
        }

        /* Medicine Table Specific */
        .medicine_table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed; /* Keep columns aligned */
        }

        .medicine_table td p {
            font-size: 10px;
            margin: 0;
            white-space: normal;
        }

        .medicine_table th, .medicine_table td {
            border: 1px solid black;
            padding: 5px;
            text-align: left; /* Align text to the left within cells */
            vertical-align: top; /* Align content to the top of cells */
            page-break-inside: avoid; /* Prevent breaks inside cells */
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: normal;
            word-wrap: break-word;
        }

        .medicine_table thead {
            display: table-header-group; /* Ensure header repeats on new pages */
        }

        .medicine_table tfoot {
            display: table-footer-group; /* For possible future use */
        }

        .medicine_table thead::after {
            content: '';
            display: block;
            height: 5mm; /* Space after header */
        }

        .medicine_table tfoot::before {
            content: '';
            display: block;
            height: 5mm; /* Space before footer */
        }

        .medicine_table tr {
            page-break-inside: avoid; /* Prevent breaks within rows */
        }

        .medicine_table tbody tr {
            page-break-before: auto; /* Allow page breaks before rows in the tbody */
        }

        .medicine_table th:nth-child(1),
        .medicine_table td:nth-child(1) {
            width: 5%; /* S.No */
        }

        .medicine_table th:nth-child(3),
        .medicine_table td:nth-child(4),
        .medicine_table th:nth-child(4),
        .medicine_table td:nth-child(5) {
            width: 4%; /* Dose and Qty */
        }

        .medicine_table th:nth-child(5),
        .medicine_table td:nth-child(6),
        .medicine_table td:nth-child(7),
        .medicine_table td:nth-child(8) {
            width: 30%; /* Schedule Medicine */
        }

        .medicine_table th:nth-child(6),
        .medicine_table td:nth-child(9) {
            width: 12%; /* Start Date / Duration */
            white-space: normal;
        }

        /* Medicine Name Wrapper */
        .medicine_name_wrapper {
            display: grid;
            grid-template-columns: 30% 70%;
        }

        .medicine_name_wrapper div {
            padding: 15px 5px;
            align-content: center;
        }

        /* Top Section Styles */
        .top_provider_section {
            display: flex;
            justify-content: space-around;
            margin-bottom: 5px;
            align-items: center;
        }

        .top_provider_section_two {
            padding-left: 20px;
            padding-right: 10px;
        }

        /* Section Wrappers */
        .top_section_wrapper {
            border: 1px solid black;
            display: grid;
            grid-template-columns: repeat(2, 3fr);
            grid-auto-rows: minmax(30px, auto);
        }

        .top_section_wrapper_one,
        .top_section_wrapper_two {
            padding: 0 10px;
            display: flex;
            align-items: center;
        }

        /* Complaint Table Specific */
        .complaint_table {
            width: 100%;
            table-layout: fixed; /* Important: Use fixed layout to keep columns aligned */
            border-collapse: collapse; /* Collapse borders for a cleaner look */
        }

        .complaint_table th, .complaint_table td {
            padding: 5px;
            text-align: center; /* Center the content */
            border: 1px solid black; /* Add borders back if needed */
        }

        /* Hide BMI, BP, RBS, Temperature */
        .complaint_table tr:nth-child(2) { /* Select the second row in each table */
            display: none;
        }

        .complaints_subsection > div:nth-child(1) .complaint_table tr:nth-child(2), /* BMI in the first table */
        .complaints_subsection > div:nth-child(2) .complaint_table tr:nth-child(2), /* BP in the second table */
        .complaints_subsection > div:nth-child(3) .complaint_table tr:nth-child(2) { /* Temperature in the third table */
            display: none;
        }

        /* Complaint Section */
        .complaints_section {
            border: 1px solid black;
            border-right: 0;
            border-top: 0;
            border-bottom: 0;
            display: flex;
        }

        .complaints_section_one {
            padding: 10px;
            width: 50%;
        }

        .complaints_section_two {
            width: 50%;
        }

        /* Modified style to allow Height & Weight
        .complaints_subsection {
                grid-auto-rows: minmax(30px, auto);
                grid-template-columns: repeat(3, 3fr);
                display: grid;
            }
        */

        /* Modified Styles */
        .complaints_subsection {
            display: table; /* Use table display for the container */
            width: 100%;
            table-layout: fixed; /* Crucial for consistent column widths */
        }

        .complaints_subsection > div {
            display: table-cell; /* Use table cell display for the inner divs */
            vertical-align: top; /* Align cells to the top */
            padding: 10px;
        }

        /* Schedule Medicine */
        .schedule_medicine_wrapper {
            border: 1px solid black;
            border-left: 0;
            border-right: 0;
            border-bottom: 0;
            margin-top: 10px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-auto-rows: minmax(20px, auto);
            padding: 10px;
        }

        .right_tick_div {
            padding: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-flow: column;
        }

        /* Section Styles */
        .diagnosis_section,
        .chef-complaints-section,
        .treatment_advise_section,
        .investigation_section_heading,
        .next_consultation_section_heading,
        .workout_section_heading {
            border: 1px solid black;
            border-top: 0;
            padding: 10px;
        }

        .diet_section_heading {
            margin-top: 30px;
            border: 1px solid black;
            padding: 10px;
        }

        /* Signature Section */
        .signature_section {
            text-align: center;
            margin-left: 600px;
            margin-bottom: 20px;
            margin-top: 30px;
            display: flex;
            align-items: end;
            justify-content: end;
        }

        .signature_section .signature_image_section {
            align-items: center;
            display: flex;
            flex-flow: column;
        }

        /* Table Containers */
        .medicine-table-container {
            overflow: visible;
            margin: 15px 0;
        }

        /* New Page for Lifestyle Advice */
        .lifestyle-advice-page {
            page-break-before: always; /* Start on a new page */
        }

        /* Table Containers */
        .medicine-table-container {
            overflow: visible;
            margin: 15px 0;
        }
    </style>
</head>

<body>
<!-- TOP HEADING SECTION -->
<!-- Header Template -->
<div class="header">
    <div class="top_provider_section">
        <div class="top_provider_section_one">
            <img src="{{ providerLogo }}" alt="adherelive" width="60" height="60"/>
        </div>
        <div class="top_provider_section_two">
            <h3>
                {{ providerName }} <br/>
                {{ providerAddress }} +91-8411042323 <br/>
            </h3>
            <p>Patient: {{ patient_data.name }} - ID: {{ patient_data.uid }}</p>
        </div>
        <div class="top_provider_section_three">
            <img
                    src="https://res.cloudinary.com/myrltech/image/upload/v1685082132/qr-code.jpg"
                    alt="adhere"
                    width="100"
                    height="100"
            />
        </div>
    </div>
</div>

<!-- SECTION TWO -->
<!-- Content sections with your existing HTML, but with page break controls -->
<!-- Main content starts -->
<div class="main-content">
    <div class="top_section_wrapper">
        <div class="top_section_wrapper_one">
            <h3>Patient Name :</h3>
            <p>{{ patient_data.name }}</p>
        </div>
        <div class="top_section_wrapper_two">
            <h3>Registration date/time :</h3>
            <p>{{ patient_data.created_at }}</p>
        </div>
        <div class="top_section_wrapper_one">
            <h3>Patient Age/Gender :</h3>
            <p>{{ patient_data.age }}/{{ patient_data.gender }}</p>
        </div>

        <div class="top_section_wrapper_two">
            <h3>Patient ID :</h3>
            <p>{{ patient_data.uid }}</p>
        </div>
        <div class="top_section_wrapper_one">
            <h3>Patient Mobile No. :</h3>
            <p>+{{ patient_data.prefix }}-{{ patient_data.mobile_number }}</p>
        </div>
        <div class="top_section_wrapper_two">
            <h3>Doctor Name:</h3>
            <p>Dr. {{ doctorName }} {{ degree }}</p>
        </div>
        <div class="top_section_wrapper_one">
            <h3>Patient Address:</h3>
            <p>{{ patient_data.address }}</p>
        </div>
        <div class="top_section_wrapper_two">
            <!-- Removed the Doctor Email -->
            <!-- <h3>Doctor Email :</h3>
          <p>{{ doctorEmail }}</p> -->
        </div>
    </div>

    <!-- Chief Complaints:  -->
    <div class="chef-complaints-section">
        <!-- <div style="display: flex; align-items: center">
          <h3>Relevant History :</h3>
          <br />
        </div> -->
        <div style="display: flex; align-items: center">
            <h3>Allergies:</h3>
            <p>{{ patient_data.allergies }}</p>
            <br/>
        </div>
        <div style="display: flex; align-items: center">
            <h3>Comorbidities :</h3>
            <p>{{ patient_data.comorbidities }}</p>
            <br/>
        </div>
    </div>

    <!-- DIAGNOSIS  AND SYMPTOMS-->
    <div class="top_section_wrapper">
        <div
                class="top_section_wrapper_one"
                style="border-right: 1px solid; padding: 10px"
        >
            <h3>Diagnosis :</h3>
            <p>{{ diagnosis }}</p>
        </div>
        <div class="top_section_wrapper_two" style="padding: 10px">
            <h3>Symptoms :</h3>
            <p style="width: 250px">{{ symptoms_final_value }}</p>
        </div>
    </div>

    <!-- General | Systemic Examination: -->
    <div class="diagnosis_section">
        <div style="display: flex; align-items: center">
            <h3>General | Systematic Examination :</h3>
            <p style="font-family: TiroDevanagariHindi-Regular">
                {{ clinicalNotes }}
            </p>
        </div>
    </div>

    <!-- TREATMENT ADVISE -->
    <div class="treatment_advise_section">
        <h3>Treatment And Follow-up Advice:</h3>
        <p style="font-family: TiroDevanagariHindi-Regular">
            <strong>{{ follow_up_advise }}</strong>
        </p>
    </div>

    <!-- COMPLAINTS SECTION -->
    <div class="complaints_section">
        <div class="complaints_subsection">
            <div>
                <table class="complaint_table">
                    <tr>
                        <th><h3>Height</h3></th>
                        <td><p>{{patient_data.height}} cm</p></td>
                    </tr>
                </table>
            </div>
            <div>
                <table class="complaint_table">
                    <tr>
                        <th><h3>Weight</h3></th>
                        <td><p>{{patient_data.weight}} kg</p></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>


    <!-- MEDICINE  SECTION -->
    <div class="medicine_section avoid-break">
        <table class="medicine_table">
            <thead>
            <tr>
                <th>
                    <h3>S.No</h3>
                </th>
                <th style="width: 30%" colspan="2">
                    <h3>Name of Medicine</h3>
                </th>
                <th>
                    <h3>Dose</h3>
                </th>
                <th>
                    <h3>Qty</h3>
                </th>
                <th colspan="3">
                    <div>
                        <h3>Medicine Schedule</h3>
                    </div>
                    <div class="schedule_medicine_wrapper" style="display: flex; justify-content: space-around;">
                        <div>
                            <h4>Morning</h4>
                        </div>
                        <div>
                            <h4>Afternoon</h4>
                        </div>
                        <div>
                            <h4>Night</h4>
                        </div>
                    </div>
                </th>
                <th>
                    <h3>Start Date / Duration</h3>
                </th>
            </tr>
            </thead>
            <tbody>
            {{#each medicationsList}}
            <tr>
                <td>
                    <p>{{print @index }}</p>
                </td>
                <td colspan="2" style="padding: 0px">
                    <div class="medicine_name_wrapper">
                        <div style="border-right: 1px solid; width: 80%;">
                            <p>{{ medicineType }}</p>
                        </div>
                        <div style="text-align: justify;">
                            <p>
                                <strong>{{ medicineName }}</strong><br/>
                                {{ genericName }} {{ strength }}<br/>
                                <span style="font-size: 10px;">by Dr. {{ organizer.name }}</span><br/>
                                Note: - <span style="font-family: TiroDevanagariHindi-Regular;">{{ description }}</span>
                            </p>
                        </div>
                    </div>
                </td>
                <td>
                    <p>{{ unit }}</p>
                </td>
                <td>
                    <p>{{ quantity }}</p>
                </td>
                <td>
                    <div class="right_tick_div">
                        <div class="tick_image">
                            {{#each timings_new.morning}}
                            <img
                                    src="https://res.cloudinary.com/myrltech/image/upload/v1685103497/download.png"
                                    alt="tick"
                                    width="15px"
                                    height="15px"
                            />
                            {{/each}}
                        </div>
                        {{#each timings_new.morning}}
                        <p style="font-size: 8px">{{ this }}</p>
                        {{/each}}
                    </div>
                </td>
                <td>
                    <div class="right_tick_div">
                        <div class="tick_image">
                            {{#each timings_new.afternoon}}
                            <img
                                    src="https://res.cloudinary.com/myrltech/image/upload/v1685103497/download.png"
                                    alt="tick"
                                    width="15px"
                                    height="15px"
                            />
                            {{/each}}
                        </div>
                        {{#each timings_new.afternoon}}
                        <p style="font-size: 8px">{{ this }}</p>
                        {{/each}}
                    </div>
                </td>
                <td>
                    <div class="right_tick_div">
                        <div class="tick_image">
                            {{#each timings_new.night}}
                            <img
                                    src="https://res.cloudinary.com/myrltech/image/upload/v1685103497/download.png"
                                    alt="tick"
                                    width="15px"
                                    height="15px"
                            />
                            {{/each}}
                        </div>
                        {{#each timings_new.night}}
                        <p style="font-size: 8px">{{ this }}</p>
                        {{/each}}
                    </div>
                </td>
                <td>
                    {{#if isSOS}}
                    <p>Take whenever required</p>
                    {{else}}
                    <p>From {{ startDate }} for {{ duration }} day(s)</p>
                    {{/if}}
                </td>
            </tr>
            {{/each}}
            </tbody>
        </table>
    </div>

    <!-- INVESTIGATION SECTION -->
    <!-- style="page-break-before: always" -->
    <!-- <div class="page-break"></div> -->
    <div class="investigation_section">
        <div class="investigation_section_heading">
            <h3>Investigation :</h3>
        </div>
        <div class="investigation_section_content">
            <table
                    class="investigation_table"
                    style="width: 100%; text-align: center"
            >
                <thead>
                <tr>
                    <th style="width: 3%">
                        <h3>S. No</h3>
                    </th>
                    <th style="width: 20%">
                        <h3>Description</h3>
                    </th>
                    <th style="width: 10%">
                        <h3>Date</h3>
                    </th>
                    <th style="width: 20%">
                        <h3>Purpose</h3>
                    </th>
                </tr>
                </thead>
                <tbody>
                {{#each investigations}}
                <tr>
                    <td>
                        <p>{{print @index }}</p>
                    </td>
                    <td style="text-align: left">
                        <p>
                            {{ type_description }} <br/>
                            <span style="font-size: 8px">by Dr. {{ organizer.name }}</span>
                            <br/>
                            Note:-
                            <span style="font-family: TiroDevanagariHindi-Regular"
                            >{{ description }}</span
                            >
                        </p>
                    </td>
                    <td>
                        <p>{{ start_date }}</p>
                    </td>
                    <td>
                        <p>{{ reason }}</p>
                    </td>
                </tr>
                {{/each}}
                </tbody>
            </table>
        </div>
    </div>
    <!-- NEXT CONSULTATION SECTION -->
    <div class="next_consultation_section_heading">
        <h3>Next Consultation :</h3>
    </div>
    <div class="next_consultation_section">
        <div class="next_consultation_section_one">
            <table
                    class="consultation_table"
                    style="width: 100%; text-align: center"
            >
                <thead>
                <tr>
                    <th style="width: 3%">
                        <h3>S. No</h3>
                    </th>
                    <th style="width: 20%">
                        <h3>Description</h3>
                    </th>
                    <th style="width: 10%">
                        <h3>Date</h3>
                    </th>
                    <th style="width: 20%">
                        <h3>Purpose</h3>
                    </th>
                </tr>
                </thead>
                <tbody>
                {{#each nextConsultation}}
                <tr>
                    <td>
                        <p>{{print @index}}</p>
                    </td>
                    <td style="text-align: left">
                        <p>
                            {{ type_description }} <br/>
                            <span style="font-size: 8px">by Dr. {{ organizer.name }}</span>
                            <br/>
                            Note:-
                            <span style="font-family: TiroDevanagariHindi-Regular"
                            >{{ description }}</span
                            >
                        </p>
                    </td>
                    <td>
                        <p>{{ start_date }}</p>
                    </td>
                    <td>
                        <p>{{ reason }}</p>
                    </td>
                </tr>
                {{/each}}
                </tbody>
            </table>
        </div>
    </div>

    <div class="signature_section">
        <div class="signature_image_section">
            <img
                    class="signature_image"
                    height="40"
                    width="120"
                    src="{{ doctorSignImage }}"
                    alt="adhere-doctor-signature"
            />
            <h3 style="margin-top: 10px; margin-bottom: 10px">
                {{ creationDate }}
            </h3>
            <div style="margin-top: 10px">
                <h3>SIGNATURE & STAMP</h3>
            </div>
            <div style="margin-top: 10px">
                <p>Reg.No. {{ registrationNumber }}, {{ city }}</p>
            </div>
        </div>
    </div>

    <div>
        <h3>
            Note:
            <p style="font-family: PlusJakartaSans-Regular">
                This prescription is generated on the AdhereLive platform. To access
                your digital prescription download the mobile app using the QR code at
                the top. Please write to "customersupport@adhere.live" for any
                technical assistance.
            </p>
            <p style="font-weight: 100; font-family: TiroDevanagariHindi-Regular">
                यह प्रिस्क्रिप्शन AdhereLive प्लेटफॉर्म पर तैयार किया गया है। अपने
                डिजिटल प्रिस्क्रिप्शन देखने के लिए ऊपर दिए गए QR कोड का उपयोग करके
                मोबाइल ऐप डाउनलोड करें। कृपया किसी तकनीकी सहायता के लिए
                "customersupport@adhere.live" पर लिखें।
            </p>
        </h3>
    </div>

    {{#if (or diet_output.length pre_workouts.length) }}
    <div style="margin-top: 30px">
        <h3>Lifestyle Advice</h3>
    </div>

    <!-- DIET SECTION  -->
    {{#if diet_output.length}}
    <div class="diet_section_heading">
        <h3>Diet :</h3>
    </div>
    <div class="diet_section_section">
        <div class="diet_section_section_one">
            <table class="diet_table" style="width: 100%; text-align: center">
                <thead>
                <tr>
                    <th style="width: 6%">
                        <h3>S. No</h3>
                    </th>
                    <th>
                        <h3>Diet Name</h3>
                    </th>
                    <th style="width: 40%">
                        <h3>Time and details</h3>
                    </th>
                    <th style="width: 30%">
                        <h3>Duration</h3>
                    </th>
                </tr>
                </thead>
                <tbody>
                {{#each diet_output }}
                <tr>
                    <td>
                        <p>{{print @index}}</p>
                    </td>
                    <td style="text-align: left">
                        <p>{{ this.name }}</p>
                    </td>
                    <td style="text-align: left">
                        {{#each this.food_group }}
                        <div
                                style="
	                  display: flex;
	                  justify-content: space-between;
	                  margin-bottom: 30px;
	                "
                        >
                            <div style="width: 100px">
                                <p>{{this.time.text}}</p>
                            </div>
                            <div style="display: flex; flex-flow: column">
                                {{#each this.food_group_details_array}}
                                <div style="width: 120px">
                                    <p>{{ this.details.name }}</p>
                                    <p>
                                        Instructions:
                                        <span style="font-family: TiroDevanagariHindi-Regular"
                                        >{{ this.notes }}</span
                                        >
                                    </p>
                                </div>
                                {{/each}}
                            </div>
                        </div>
                        {{/each}}
                        <div style="margin-top: 20px">
                            <h5>
                                Repeat Days - {{#each
                                this.repeat_days}}<span>{{this}},</span>{{/each}}
                            </h5>
                            <h5>
                                What Not to Do -
                                <span style="font-family: TiroDevanagariHindi-Regular"
                                >{{this.not_to_do}}</span
                                >
                            </h5>
                            <h5>Total Calories - <span>{{ this.total_calories }}</span></h5>
                        </div>
                    </td>
                    <td>
                        <p>{{ this.durationText }}</p>
                    </td>
                </tr>
                {{/each }}
                </tbody>
            </table>
        </div>
    </div>
    {{/if}}

    {{#if pre_workouts.length}}
    <div class="workout_section_heading">
        <h3>Workout :</h3>
    </div>
    <div class="workout_section_section">
        <div class="workout_section_section_one">
            <table class="workout_table" style="width: 100%; text-align: center">
                <thead>
                <tr>
                    <th style="width: 6%">
                        <h3>S. No</h3>
                    </th>
                    <th>
                        <h3>Workout Name</h3>
                    </th>
                    <th style="width: 30%">
                        <h3>Time</h3>
                    </th>
                    <th style="width: 30%">
                        <h3>Details</h3>
                    </th>
                    <th style="width: 20%">
                        <h3>Duration</h3>
                    </th>
                </tr>
                </thead>
                <tbody>
                {{#each pre_workouts }}
                <tr>
                    <td>
                        <p>{{print @index }}</p>
                    </td>
                    <td style="text-align: left">
                        <p>{{ name }}</p>
                    </td>
                    <td>
                        <p>{{ formattedTime }}</p>
                    </td>
                    <td style="text-align: left">
                        {{#each ex}}
                        <p>
                            {{ ex_group.set }} set x {{ repetition_value }} {{
                            repetitions.type }} {{ exercises.basic_info.name }}
                        </p>
                        {{/each}}
                        <h5>
                            Repeat Days - {{#each repeat_days}}<span>{{ this }}, </span
                        >{{/each }}
                        </h5>
                        <h5>What Not to Do - <span>{{ not_to_do }}</span></h5>
                        <h5>Total Calories - <span>{{ total_cal }} Cal</span></h5>
                    </td>
                    <td>
                        <p>{{ durationText }}</p>
                    </td>
                </tr>
                {{/each }}
                </tbody>
            </table>
        </div>
    </div>
    {{/if}}
    {{/if}}
</div>

<!-- Footer Template -->
<div class="footer">
    <p>Page <span class="pageNumber"></span> of <span class="pageCount"></span></p>
    <p>Generated via the AdhereLive Platform</p>
</div>
</body>
</html>